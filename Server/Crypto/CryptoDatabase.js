const Datastore = require('nedb');
const Binance = require('binance-api-node').default

class CryptoDatabase 
{
    constructor(path) 
    {
        this.coins = [
            'BTCUSDT',
            'ETHUSDT',
            'BNBUSDT',
            'BCCUSDT',
            'NEOUSDT',
            'LTCUSDT',
            'QTUMUSDT',
            'ADAUSDT',
            'XRPUSDT',
            'EOSUSDT',
            'TUSDUSDT',
            'IOTAUSDT',
            'XLMUSDT',
            'ONTUSDT',
            'TRXUSDT',
            'ETCUSDT',
            'ICXUSDT',
            'VENUSDT',
            'NULSUSDT',
            'VETUSDT',
            'PAXUSDT',
            'BCHABCUSDT',
            'BCHSVUSDT',
            'USDCUSDT',
            'LINKUSDT',
            'WAVESUSDT',
            'BTTUSDT',
            'USDSUSDT',
            'ONGUSDT',
            'HOTUSDT',
            'ZILUSDT',
            'ZRXUSDT',
            'FETUSDT',
            'BATUSDT',
            'XMRUSDT',
            'ZECUSDT',
            'IOSTUSDT',
            'CELRUSDT',
            'DASHUSDT',
            'NANOUSDT',
            'OMGUSDT',
            'THETAUSDT',
            'ENJUSDT',
            'MITHUSDT',
            'MATICUSDT',
            'ATOMUSDT',
            'TFUELUSDT',
            'ONEUSDT',
            'FTMUSDT',
            'ALGOUSDT',
            'USDSBUSDT',
            'GTOUSDT',
            'ERDUSDT',
            'DOGEUSDT',
            'DUSKUSDT',
            'ANKRUSDT',
            'WINUSDT',
            'COSUSDT',
            'NPXSUSDT',
            'COCOSUSDT',
            'MTLUSDT',
            'TOMOUSDT',
            'PERLUSDT',
            'DENTUSDT',
            'MFTUSDT',
            'KEYUSDT',
            'STORMUSDT',
            'DOCKUSDT',
            'WANUSDT',
            'FUNUSDT',
            'CVCUSDT',
            'CHZUSDT',
            'BANDUSDT',
            'BUSDUSDT',
            'BEAMUSDT',
            'XTZUSDT',
            'RENUSDT',
            'RVNUSDT',
            'HCUSDT',
            'HBARUSDT',
            'NKNUSDT',
            'STXUSDT',
            'KAVAUSDT',
            'ARPAUSDT',
            'IOTXUSDT',
            'RLCUSDT',
            'MCOUSDT',
            'CTXCUSDT',
            'BCHUSDT',
            'TROYUSDT',
            'VITEUSDT',
            'FTTUSDT',
            'OGNUSDT',
            'DREPUSDT',
            'BULLUSDT',
            'BEARUSDT',
            'ETHBULLUSDT',
            'ETHBEARUSDT',
            'TCTUSDT',
            'WRXUSDT',
            'BTSUSDT',
            'LSKUSDT',
            'BNTUSDT',
            'LTOUSDT',
            'EOSBULLUSDT',
            'EOSBEARUSDT',
            'XRPBULLUSDT',
            'XRPBEARUSDT',
            'STRATUSDT',
            'AIONUSDT',
            'MBLUSDT',
            'COTIUSDT',
            'BNBBULLUSDT',
            'BNBBEARUSDT',
            'STPTUSDT',
            'WTCUSDT',
            'DATAUSDT',
            'XZCUSDT',
            'SOLUSDT',
            'CTSIUSDT',
            'HIVEUSDT',
            'CHRUSDT',
            'BTCUPUSDT',
            'BTCDOWNUSDT',
            'GXSUSDT',
            'ARDRUSDT',
            'LENDUSDT',
            'MDTUSDT',
            'STMXUSDT',
            'KNCUSDT',
            'REPUSDT',
            'LRCUSDT',
            'PNTUSDT',
            'COMPUSDT',
            'BKRWUSDT',
            'SCUSDT',
            'ZENUSDT',
            'SNXUSDT',
            'ETHUPUSDT',
            'ETHDOWNUSDT',
            'ADAUPUSDT',
            'ADADOWNUSDT',
            'LINKUPUSDT',
            'LINKDOWNUSDT',
            'VTHOUSDT',
            'DGBUSDT',
            'GBPUSDT',
            'SXPUSDT',
            'MKRUSDT',
            'DAIUSDT',
            'DCRUSDT',
            'STORJUSDT',
            'BNBUPUSDT',
            'BNBDOWNUSDT',
            'XTZUPUSDT',
            'XTZDOWNUSDT',
            'MANAUSDT',
            'AUDUSDT',
            'YFIUSDT',
            'BALUSDT',
            'BLZUSDT',
            'IRISUSDT',
            'KMDUSDT',
            'JSTUSDT',
            'SRMUSDT',
            'ANTUSDT',
            'CRVUSDT',
            'SANDUSDT',
            'OCEANUSDT',
            'NMRUSDT',
            'DOTUSDT',
            'LUNAUSDT',
            'RSRUSDT',
            'PAXGUSDT',
            'WNXMUSDT',
            'TRBUSDT',
            'BZRXUSDT',
            'SUSHIUSDT',
            'YFIIUSDT',
            'KSMUSDT',
            'EGLDUSDT',
            'DIAUSDT',
            'RUNEUSDT',
            'FIOUSDT',
            'UMAUSDT',
            'EOSUPUSDT',
            'EOSDOWNUSDT',
            'TRXUPUSDT',
            'TRXDOWNUSDT',
            'XRPUPUSDT',
            'XRPDOWNUSDT',
            'DOTUPUSDT',
            'DOTDOWNUSDT',
            'BELUSDT',
            'WINGUSDT',
            'LTCUPUSDT',
            'LTCDOWNUSDT',
            'UNIUSDT',
            'NBSUSDT',
            'OXTUSDT',
            'SUNUSDT',
            'AVAXUSDT',
            'HNTUSDT',
            'FLMUSDT',
            'UNIUPUSDT',
            'UNIDOWNUSDT',
            'ORNUSDT',
            'UTKUSDT',
            'XVSUSDT',
            'ALPHAUSDT',
            'AAVEUSDT',
            'NEARUSDT',
            'SXPUPUSDT',
            'SXPDOWNUSDT',
            'FILUSDT',
            'FILUPUSDT',
            'FILDOWNUSDT',
            'YFIUPUSDT',
            'YFIDOWNUSDT',
            'INJUSDT',
            'AUDIOUSDT',
            'CTKUSDT',
            'BCHUPUSDT',
            'BCHDOWNUSDT',
            'AKROUSDT',
            'AXSUSDT',
            'HARDUSDT',
            'DNTUSDT',
            'STRAXUSDT',
            'UNFIUSDT',
            'ROSEUSDT',
            'AVAUSDT',
            'XEMUSDT',
            'AAVEUPUSDT',
            'AAVEDOWNUSDT',
            'SKLUSDT',
            'SUSDUSDT',
            'SUSHIUPUSDT',
            'SUSHIDOWNUSDT',
            'XLMUPUSDT',
            'XLMDOWNUSDT',
            'GRTUSDT',
            'JUVUSDT',
            'PSGUSDT',
            'USDTBVND',
            '1INCHUSDT',
            'REEFUSDT',
            'OGUSDT',
            'ATMUSDT',
            'ASRUSDT',
            'CELOUSDT',
            'RIFUSDT',
            'BTCSTUSDT',
            'TRUUSDT',
            'CKBUSDT',
            'TWTUSDT',
            'FIROUSDT',
            'LITUSDT',
            'SFPUSDT',
            'DODOUSDT',
            'CAKEUSDT',
            'ACMUSDT',
            'BADGERUSDT',
            'FISUSDT',
            'OMUSDT',
            'PONDUSDT',
            'DEGOUSDT',
            'ALICEUSDT',
            'LINAUSDT',
            'PERPUSDT',
            'RAMPUSDT',
            'SUPERUSDT',
            'CFXUSDT',
            'EPSUSDT',
            'AUTOUSDT',
            'TKOUSDT',
            'PUNDIXUSDT',
            'TLMUSDT',
            '1INCHUPUSDT',
            '1INCHDOWNUSDT',
            'BTGUSDT',
            'MIRUSDT',
            'BARUSDT',
            'FORTHUSDT',
            'BAKEUSDT',
            'BURGERUSDT',
            'SLPUSDT',
            'SHIBUSDT',
            'ICPUSDT',
            'USDTGYEN',
            'ARUSDT',
            'POLSUSDT',
            'MDXUSDT',
            'MASKUSDT',
            'LPTUSDT',
            'NUUSDT',
            'XVGUSDT',
            'ATAUSDT',
            'GTCUSDT',
            'TORNUSDT',
            'KEEPUSDT',
            'ERNUSDT',
            'KLAYUSDT',
            'PHAUSDT',
            'BONDUSDT',
            'MLNUSDT',
            'DEXEUSDT',
            'C98USDT',
            'CLVUSDT',
            'QNTUSDT',
            'FLOWUSDT',
            'TVKUSDT',
            'MINAUSDT',
            'RAYUSDT',
            'FARMUSDT',
            'ALPACAUSDT',
            'QUICKUSDT',
            'MBOXUSDT',
            'FORUSDT',
            'REQUSDT',
            'GHSTUSDT',
            'WAXPUSDT',
            'TRIBEUSDT',
            'GNOUSDT',
            'XECUSDT',
            'ELFUSDT',
            'DYDXUSDT',
            'POLYUSDT',
            'IDEXUSDT',
            'VIDTUSDT',
            'USDPUSDT',
            'GALAUSDT',
            'ILVUSDT',
            'YGGUSDT',
            'SYSUSDT',
            'DFUSDT',
            'FIDAUSDT',
            'FRONTUSDT',
            'CVPUSDT',
            'AGLDUSDT',
            'RADUSDT',
            'BETAUSDT',
            'RAREUSDT',
            'LAZIOUSDT',
            'CHESSUSDT',
            'ADXUSDT',
            'AUCTIONUSDT',
            'DARUSDT',
            'BNXUSDT',
            'RGTUSDT',
            'MOVRUSDT',
            'CITYUSDT',
            'ENSUSDT',
            'KP3RUSDT',
            'QIUSDT',
            'PORTOUSDT',
            'POWRUSDT',
            'VGXUSDT',
            'JASMYUSDT',
            'AMPUSDT',
            'PLAUSDT',
            'PYRUSDT',
            'RNDRUSDT',
            'ALCXUSDT',
            'SANTOSUSDT',
            'MCUSDT',
            'ANYUSDT',
            'BICOUSDT',
            'FLUXUSDT',
            'FXSUSDT',
            'VOXELUSDT',
            'HIGHUSDT',
            'CVXUSDT',
            'PEOPLEUSDT',
            'OOKIUSDT',
            'SPELLUSDT',
            'USTUSDT',
            'JOEUSDT',
            'ACHUSDT',
            'IMXUSDT',
            'GLMRUSDT',
            'LOKAUSDT',
            'SCRTUSDT',
            'API3USDT',
            'BTTCUSDT',
            'ACAUSDT',
            'ANCUSDT',
            'XNOUSDT',
            'WOOUSDT',
            'ALPINEUSDT',
            'TUSDT',
            'ASTRUSDT',
            'NBTUSDT',
            'GMTUSDT',
            'KDAUSDT',
            'APEUSDT',
            'BSWUSDT',
            'BIFIUSDT',
            'MULTIUSDT',
            'STEEMUSDT'
        ]
        this.client = Binance();
        this.database = new Datastore({filename: './Crypto/CryptoDatabase.db', autoload: true, onload: (err) => {
            if (err)
                console.log(err.message);
            else
                console.log("CryptoDatabase up and running !");
        }});
        this.database.persistence.setAutocompactionInterval(60000); // Compacts the database each parameter milliseconds.
    }

    
    updateDatabase()
    {
        startTime = Date.now() - 300000;
    }
    
}

exports.default = CryptoDatabase;